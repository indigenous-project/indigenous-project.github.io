(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[24],{1138:function(e,t,n){"use strict";n.r(t);var c=n(58),r=n(619),i=n.n(r),a=n(620),s=n(156),l=n(1),o=n(621),j=n(654),d=n(627),b=n(624),u=n(626),h=n(29);t.default=function(){var e=Object(l.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],m=Object(l.useState)(),O=Object(s.a)(m,2),p=O[0],x=O[1],f=Object(l.useState)(!1),g=Object(s.a)(f,2),v=g[0],y=g[1],w=Object(l.useState)(!1),E=Object(s.a)(w,2),k=E[0],C=E[1],T=Object(l.useState)([]),F=Object(s.a)(T,2),K=F[0],S=F[1],N=function(e){if(!e)return"";for(var t=[],n=e.length-1;n>=0;n--)t.unshift(["&#",e[n].charCodeAt(),";"].join(""));return t.join("")},q=function(){var e=Object(a.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.d)();case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent.data,r(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k.medias=[],y(!0),n=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===t){e.next=8;break}return n=k.date,c={title:k.title,location:k.location,price:k.price,startTime:n+" "+k.startTime,endTime:k.endTime?n+" "+k.endTime:"",date:k.date,description:N(k.description),category:k.category,isPublic:k.isPublic?k.isPublic.toString():"true",medias:[t]},console.log("addObject",c,k),e.next=6,Object(j.a)(c);case 6:e.sent.ok?S([{title:"Congrats!",description:"The "+k.title+" event has been successfuly created",type:"success"}]):S([{title:"Error!",description:"An error occured while processing the request",type:"danger"}]);case 8:y(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=6,Object(d.b)(p,S,n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){q()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.g,{children:Object(h.jsx)(o.h,{children:Object(h.jsx)(o.U,{children:Object(h.jsxs)(o.l,{sm:"12",children:[Object(h.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Add new event"}),Object(h.jsx)("div",{className:"small text-muted",children:(new Date).toDateString()})]})})})}),Object(h.jsx)(o.v,{action:"",method:"event",onSubmit:z,children:Object(h.jsx)(o.U,{children:Object(h.jsx)(o.l,{sm:"12",children:Object(h.jsxs)(o.g,{children:[Object(h.jsxs)(o.h,{children:[Object(h.jsxs)(o.w,{children:[Object(h.jsx)(o.K,{htmlFor:"title",children:"Event Title"}),Object(h.jsx)(o.E,{type:"text",id:"title",required:!0,placeholder:"Enter title...",onInput:function(e){return C(Object(c.a)(Object(c.a)({},k),{},{title:e.target.value}))},autoComplete:"name"})]}),Object(h.jsxs)(o.w,{row:!0,children:[Object(h.jsxs)(o.l,{sm:"4",children:[Object(h.jsx)(o.K,{htmlFor:"date",children:"Event Date"}),Object(h.jsx)(o.E,{type:"date",min:(new Date).toISOString().split("T")[0],id:"date",required:!0,placeholder:"Enter date...",onChange:function(e){return C(Object(c.a)(Object(c.a)({},k),{},{date:e.target.value}))}})]}),Object(h.jsxs)(o.l,{sm:"4",children:[Object(h.jsx)(o.K,{htmlFor:"startTime",children:"Start Time"}),Object(h.jsx)(o.E,{type:"time",id:"startTime",required:!0,placeholder:"Enter start time...",onChange:function(e){return C(Object(c.a)(Object(c.a)({},k),{},{startTime:e.target.value}))}})]}),Object(h.jsxs)(o.l,{sm:"4",children:[Object(h.jsx)(o.K,{htmlFor:"endTime",children:"End Time"}),Object(h.jsx)(o.E,{type:"time",id:"endTime",placeholder:"Enter end time...",onChange:function(e){return C(Object(c.a)(Object(c.a)({},k),{},{endTime:e.target.value}))}})]})]}),Object(h.jsxs)(o.w,{row:!0,children:[Object(h.jsx)(o.K,{col:!0,md:"1",htmlFor:"file-input",children:"Image/Video"}),Object(h.jsx)(o.l,{xs:"12",md:"9",className:"ml-n3 mt-1",children:Object(h.jsx)(o.F,{id:"file-input",name:"file-input",onChange:function(e){return x(e.target.files[0])}})})]}),Object(h.jsxs)(o.w,{row:!0,children:[Object(h.jsxs)(o.l,{xs:"12",sm:"3",children:[Object(h.jsx)(o.K,{htmlFor:"select",children:"Category"}),Object(h.jsx)(o.V,{custom:!0,name:"category",id:"category",required:!0,onChange:function(e){C(Object(c.a)(Object(c.a)({},k),{},{category:e.target.value}))},children:n.filter((function(e){return"general"===e.type})).map((function(e){return Object(h.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(h.jsxs)(o.l,{xs:"12",sm:"3",children:[Object(h.jsx)(o.K,{htmlFor:"price",children:"Price"}),Object(h.jsx)(o.E,{type:"number",id:"price",required:!0,placeholder:"Enter price...",onInput:function(e){return C(Object(c.a)(Object(c.a)({},k),{},{price:e.target.value}))},autoComplete:"price"})]}),Object(h.jsxs)(o.l,{xs:"12",sm:"3",children:[Object(h.jsx)(o.K,{htmlFor:"host",children:"Host"}),Object(h.jsx)(o.E,{type:"text",id:"host",required:!0,placeholder:"Enter the host...",onInput:function(e){return C(Object(c.a)(Object(c.a)({},k),{},{host:e.target.value}))},autoComplete:"host"})]}),Object(h.jsxs)(o.l,{xs:"12",sm:"3",children:[Object(h.jsx)(o.K,{htmlFor:"location",children:"Location"}),Object(h.jsx)(o.E,{type:"text",id:"location",required:!0,placeholder:"Enter the location...",onInput:function(e){return C(Object(c.a)(Object(c.a)({},k),{},{location:e.target.value}))},autoComplete:"location"})]})]}),Object(h.jsxs)(o.w,{row:!0,children:[Object(h.jsx)(o.l,{tag:"label",sm:"2",className:"col-form-label",children:"I want to publish this event:"}),Object(h.jsx)(o.l,{sm:"1",children:Object(h.jsx)(o.gb,{onChange:function(e){return C(Object(c.a)(Object(c.a)({},k),{},{isPublic:e.target.checked}))},className:"ml-n4 mt-1",color:"info",defaultChecked:!0})})]}),Object(h.jsxs)(o.w,{children:[Object(h.jsx)(o.K,{htmlFor:"textarea-input",children:"Description"}),Object(h.jsx)(u.a,{apiKey:"1jrhxry4u21vyt133p3fetgz3s60eyigcj4zi629g6vczaia",initialValue:"",init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code","insertdatetime media nonbreaking table directionality","emoticons template paste textpattern imagetools codesample"],toolbar:"bold italic sizeselect fontselect fontsizeselect | hr alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media | insertfile undo redo | forecolor backcolor emoticons | "},onEditorChange:function(e,t){C(Object(c.a)(Object(c.a)({},k),{},{description:e}))}})]})]}),Object(h.jsxs)(o.i,{className:"d-flex",children:[Object(h.jsx)(o.f,{type:"submit",size:"md",className:"btn btn-info",children:"Add Event"})," ",Object(h.jsx)(o.L,{size:"sm",className:"btn btn-danger ml-2",children:"Cancel"}),v?Object(h.jsx)("div",{className:"w-25",children:Object(h.jsx)(o.eb,{className:"ml-2"})}):null]})]})})})}),K.map((function(e){return Object(h.jsx)(o.lb,{position:"bottom-right",children:Object(h.jsxs)(o.ib,{show:!0,autohide:3e3,fade:!0,color:e.type,children:[Object(h.jsx)(o.kb,{closeButton:!0,children:e.title}),Object(h.jsx)(o.jb,{children:e.description})]},Math.floor(1e6*Math.random()))},"toaster"+K.id)}))]})}}}]);
//# sourceMappingURL=24.34d5489a.chunk.js.map