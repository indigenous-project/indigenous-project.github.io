(this["webpackJsonpadmin-panel"]=this["webpackJsonpadmin-panel"]||[]).push([[27],{1148:function(e,t,c){"use strict";c.r(t);var s=c(58),n=c(619),r=c.n(n),i=c(620),a=c(156),l=c(1),o=c(621),j=c(653),d=c(628),b=c.n(d),u=c(623),h=c(1133),O=c(624),p=c(626),x=c(29),m=function(e){var t=e.job,c=e.setJob,n=e.setToastMessage,d=(e.toastMessages,e.loadJobsList),b=Object(l.useState)([]),u=Object(a.a)(b,2),h=u[0],m=u[1],g=Object(l.useState)(!1),f=Object(a.a)(g,2),y=f[0],w=f[1],v=function(e){if(!e)return"";for(var t=[],c=e.length-1;c>=0;c--)t.unshift(["&#",e[c].charCodeAt(),";"].join(""));return t.join("")},N=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))},k=function(){var e=Object(i.a)(r.a.mark((function e(c){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),w(!0),s={title:t.title,subTitle:t.subTitle,type:t.jobType,salary:t.salary,contact:{email:t.contact.email,address:t.contact.address,website:t.contact.website},isPublic:t.isPublic.toString(),description:v(N(t.description)),category:t.category},e.next=5,Object(j.b)(t._id,s,n);case 5:e.sent.ok?(d(),n([{title:"Congrats!",description:"The information of job with id: "+t._id+" has been successfuly changed",type:"success"}])):n([{title:"Error!",description:"An error occured while processing the request",type:"danger"}]),w(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)();case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent.data,m(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){C()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.g,{children:Object(x.jsx)(o.h,{children:Object(x.jsx)(o.U,{children:Object(x.jsxs)(o.l,{sm:"12",children:[Object(x.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"ID: "+t._id}),Object(x.jsx)("div",{className:"small text-muted",children:(new Date).toDateString()})]})})})}),Object(x.jsx)(o.v,{action:"",method:"job",onSubmit:k,children:Object(x.jsx)(o.U,{children:Object(x.jsx)(o.l,{sm:"12",children:Object(x.jsxs)(o.g,{children:[Object(x.jsxs)(o.h,{children:[Object(x.jsxs)(o.w,{children:[Object(x.jsx)(o.K,{htmlFor:"name",children:"Job Title"}),Object(x.jsx)(o.E,{type:"text",id:"name",required:!0,placeholder:"Enter Name...",onInput:function(e){return c(Object(s.a)(Object(s.a)({},t),{},{title:e.target.value}))},value:t.title,autoComplete:"title"})]}),Object(x.jsxs)(o.w,{row:!0,children:[Object(x.jsxs)(o.l,{children:[Object(x.jsx)(o.K,{htmlFor:"subTitle",children:"Sub title"}),Object(x.jsx)(o.E,{type:"text",id:"subTitle",required:!0,placeholder:"Enter Sub title...",onInput:function(e){return c(Object(s.a)(Object(s.a)({},t),{},{subTitle:e.target.value}))},value:t.subTitle,autoComplete:"subTitle"})]}),Object(x.jsxs)(o.l,{children:[Object(x.jsx)(o.K,{htmlFor:"type",children:"Type"}),Object(x.jsx)(o.E,{type:"text",id:"type",required:!0,placeholder:"Enter Type...",onInput:function(e){return c(Object(s.a)(Object(s.a)({},t),{},{jobType:e.target.value}))},value:t.jobType,autoComplete:"type"})]}),Object(x.jsxs)(o.l,{children:[Object(x.jsx)(o.K,{htmlFor:"salary",children:"Salary"}),Object(x.jsx)(o.E,{type:"number",min:"0",id:"salary",required:!0,placeholder:"Enter Salary...",onInput:function(e){return c(Object(s.a)(Object(s.a)({},t),{},{salary:e.target.value}))},value:t.salary,autoComplete:"salary"})]})]}),Object(x.jsxs)(o.w,{row:!0,children:[Object(x.jsxs)(o.l,{children:[Object(x.jsx)(o.K,{htmlFor:"email",children:"Email"}),Object(x.jsx)(o.E,{type:"email",id:"email",required:!0,placeholder:"Enter Email...",onInput:function(e){return c(Object(s.a)(Object(s.a)({},t),{},{contact:Object(s.a)(Object(s.a)({},t.contact),{},{email:e.target.value})}))},value:t.contact.email,autoComplete:"email"})]}),Object(x.jsxs)(o.l,{children:[Object(x.jsx)(o.K,{htmlFor:"address",children:"Address"}),Object(x.jsx)(o.E,{type:"text",id:"address",required:!0,placeholder:"Enter Address...",onInput:function(e){return c(Object(s.a)(Object(s.a)({},t),{},{contact:Object(s.a)(Object(s.a)({},t.contact),{},{address:e.target.value})}))},value:t.contact.address,autoComplete:"address"})]}),Object(x.jsxs)(o.l,{children:[Object(x.jsx)(o.K,{htmlFor:"website",children:"Website"}),Object(x.jsx)(o.E,{type:"text",id:"website",required:!0,placeholder:"Enter Website...",onInput:function(e){return c(Object(s.a)(Object(s.a)({},t),{},{contact:Object(s.a)(Object(s.a)({},t.contact),{},{website:e.target.value})}))},value:t.contact.website,autoComplete:"website"})]})]}),Object(x.jsxs)(o.w,{children:[Object(x.jsx)(o.K,{htmlFor:"select",children:"Category"}),Object(x.jsx)(o.l,{xs:"12",md:"3",children:Object(x.jsx)(o.V,{custom:!0,name:"category",className:"ml-n3",id:"category",required:!0,onChange:function(e){c(Object(s.a)(Object(s.a)({},t),{},{category:e.target.value}))},value:t.category?t.category._id:"",children:h.filter((function(e){return"general"===e.type})).map((function(e){return Object(x.jsx)("option",{value:e._id,children:e.name},e._id)}))})})]}),Object(x.jsxs)(o.w,{row:!0,children:[Object(x.jsx)(o.l,{tag:"label",sm:"3",className:"col-form-label",children:"I want to publish this job:"}),Object(x.jsx)(o.l,{sm:"1",className:"ml-n5",children:Object(x.jsx)(o.gb,{onChange:function(e){return c(Object(s.a)(Object(s.a)({},t),{},{isPublic:e.target.checked}))},className:"ml-n5 mt-1",color:"info",checked:!!t.isPublic})})]}),Object(x.jsxs)(o.w,{children:[Object(x.jsx)(o.K,{htmlFor:"textarea-input",children:"Description"}),Object(x.jsx)(p.a,{apiKey:"1jrhxry4u21vyt133p3fetgz3s60eyigcj4zi629g6vczaia",initialValue:N(t.description),init:{height:300,menubar:!1,plugins:["advlist autolink lists link image charmap preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code","insertdatetime media nonbreaking table directionality","emoticons template paste textpattern imagetools codesample"],toolbar:"bold italic sizeselect fontselect fontsizeselect | hr alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media | insertfile undo redo | forecolor backcolor emoticons | "},onEditorChange:function(e,n){c(Object(s.a)(Object(s.a)({},t),{},{description:e}))}})]})]}),Object(x.jsxs)(o.i,{className:"d-flex",children:[Object(x.jsx)(o.f,{type:"submit",size:"md",className:"btn btn-info",children:"Edit Job"})," ",Object(x.jsx)(o.L,{size:"sm",className:"btn btn-danger ml-2",children:"Cancel"}),y?Object(x.jsx)("div",{className:"w-25",children:Object(x.jsx)(o.eb,{className:"ml-2"})}):null]})]})})})})]})},g=function(e){var t,c=e.job;return console.log("job: ",c),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.g,{children:Object(x.jsx)(o.h,{children:Object(x.jsx)(o.U,{children:Object(x.jsxs)(o.l,{sm:"12",children:[Object(x.jsxs)("h4",{id:"traffic",className:"card-title mb-0",children:["ID: ",c._id]}),Object(x.jsx)("div",{className:"small text-muted",children:(new Date).toDateString()})]})})})}),c?Object(x.jsxs)(o.U,{children:[Object(x.jsx)(o.l,{sm:"6",children:Object(x.jsxs)(o.M,{children:[Object(x.jsxs)(o.N,{children:[Object(x.jsx)("strong",{children:"Title: "}),c.title]}),Object(x.jsxs)(o.N,{children:[Object(x.jsx)("strong",{children:"Sub title: "}),c.subTitle]}),Object(x.jsxs)(o.N,{children:[Object(x.jsx)("strong",{children:"Salary: "}),c.salary]}),Object(x.jsxs)(o.N,{children:[Object(x.jsx)("strong",{children:"Type: "}),c.jobType]}),Object(x.jsxs)(o.N,{children:[Object(x.jsx)("strong",{children:"Category: "}),c.category?c.category.name:"Not specified"]}),Object(x.jsxs)(o.N,{children:[Object(x.jsx)("strong",{children:"Owner: "}),c.owner?c.owner.email:"Not specified"]})]})}),Object(x.jsx)(o.l,{sm:"6",children:Object(x.jsxs)(o.M,{children:[Object(x.jsxs)(o.N,{children:[Object(x.jsx)("strong",{children:"Email: "}),c.contact?c.contact.email:"Not specified"]}),Object(x.jsxs)(o.N,{children:[Object(x.jsx)("strong",{children:"Address: "}),c.contact?c.contact.address:"Not specified"]}),Object(x.jsxs)(o.N,{children:[Object(x.jsx)("strong",{children:"Website: "}),c.contact?c.contact.website:"Not specified"]}),Object(x.jsxs)(o.N,{children:[Object(x.jsx)("strong",{children:"Is this job visible for users: "}),Object(x.jsx)(o.b,{color:c.isPublic?"success":"danger",className:"ml-2 p-2",children:c.isPublic?"Yes":"No"})]}),Object(x.jsxs)(o.N,{children:[Object(x.jsx)("strong",{children:"Posted At: "}),c.createdAt?c.createdAt.replace("T"," ").replace("Z",""):""]}),Object(x.jsxs)(o.N,{children:[Object(x.jsx)("strong",{children:"Last Update At: "}),c.updatedAt?c.updatedAt.replace("T"," ").replace("Z",""):""]})]})})]}):null,Object(x.jsxs)(o.g,{className:"mt-4",children:[Object(x.jsx)(o.k,{children:"Description:"}),Object(x.jsx)(o.h,{children:Object(x.jsx)(o.U,{children:Object(x.jsx)(o.l,{sm:"12",children:Object(x.jsx)(p.a,{apiKey:"1jrhxry4u21vyt133p3fetgz3s60eyigcj4zi629g6vczaia",initialValue:(t=c.description,t.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))),init:{height:300,menubar:!1,plugins:["advlist autolink lists link image charmap preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code","insertdatetime media nonbreaking table directionality","emoticons template paste textpattern imagetools codesample"],toolbar:""}})})})})]})]})},f=function(e){return Object(x.jsx)(u.a,{content:h.a[e]})};t.default=function(){var e=Object(l.useState)([]),t=Object(a.a)(e,2),c=t[0],n=t[1],d=Object(l.useState)({show:!1}),u=Object(a.a)(d,2),h=u[0],O=u[1],p=Object(l.useState)([]),y=Object(a.a)(p,2),w=y[0],v=y[1],N=Object(l.useState)(""),k=Object(a.a)(N,2),C=k[0],T=k[1],E=Object(l.useState)(!0),S=Object(a.a)(E,2),P=S[0],A=S[1],D=Object(l.useState)([]),I=Object(a.a)(D,2),J=I[0],L=I[1],F=function(){var e=Object(i.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,Object(j.c)();case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent.data,console.log(c),n(c),q(C,c),A(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e,t){e=e.toLowerCase();var s=(t||c).filter((function(t){return t.title.toLowerCase().includes(e)||t.host.toLowerCase().includes(e)||t.date.toLowerCase().includes(e)})).sort((function(e,t){return e.createdAt-t.createdAt})).reverse();v(s),T(e)},z=function(){var e=Object(i.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)(t,{isDeleted:"true"},L);case 2:if(!(c=e.sent).ok){e.next=9;break}return L([{title:"Congrats!",description:"The Job with id: "+t+" has been successfuly deleted",type:"success"}]),e.next=7,F();case 7:e.next=10;break;case 9:L([{title:"Error!",description:"An error occured while processing the request",type:"danger"}]);case 10:console.log(c),O({show:!1,type:"delete"});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(r.a.mark((function e(t){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.b)(t,{isPublic:!h.isPublic+""},L);case 2:if(!(c=e.sent).ok){e.next=9;break}return L([{title:"Congrats!",description:"The publicity status of Job with id: "+t+" has been successfuly changed",type:"success"}]),e.next=7,F();case 7:e.next=10;break;case 9:L([{title:"Error!",description:"An error occured while processing the request",type:"danger"}]);case 10:console.log(c),O({show:!1});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){F()}),[]);var M=[{name:Object(x.jsx)("strong",{children:"Title"}),selector:"title",sortable:!0,left:!0},{name:Object(x.jsx)("strong",{children:"Sub title"}),selector:"subTitle",sortable:!0,left:!0},{name:Object(x.jsx)("strong",{children:"Type"}),selector:"type",sortable:!0,left:!0},{name:Object(x.jsx)("strong",{children:"Salary"}),selector:"salary",sortable:!0,center:!0},{name:Object(x.jsx)("strong",{children:"Posted Date"}),selector:"createdAt",sortable:!0,center:!0,cell:function(e){return new Date(e.createdAt).toLocaleDateString()}},{name:Object(x.jsx)("strong",{children:"Is Visible"}),selector:"isPublic",sortable:!0,center:!0,cell:function(e){return Object(x.jsx)(o.b,{color:e.isPublic?"success":"danger",className:"float-right",children:e.isPublic?"Yes":"No"})}},{name:"",selector:"_id",cell:function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)(o.L,{className:"card-header-action",onClick:function(){return O(Object(s.a)(Object(s.a)({},e),{},{jobType:e.type,show:!h.show,type:"detail"}))},children:f("cilInfo")}),Object(x.jsx)(o.L,{className:"card-header-action",onClick:function(){return O(Object(s.a)(Object(s.a)({},e),{},{jobType:e.type,show:!h.show,type:"edit"}))},children:f("cilPencil")}),Object(x.jsx)(o.L,{className:"card-header-action",onClick:function(){return O({id:e._id,title:e.title,isPublic:e.isPublic,show:!h.show,type:"isPublic"})},children:f("cilCloudUpload")}),Object(x.jsx)(o.L,{className:"card-header-action",onClick:function(){return O({id:e._id,title:e.title,show:!h.show,type:"delete"})},children:f("cilTrash")})]})}}];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.g,{children:Object(x.jsxs)(o.h,{children:[Object(x.jsx)(o.U,{children:Object(x.jsx)(o.l,{sm:"6"})}),Object(x.jsx)(o.U,{children:Object(x.jsxs)(o.l,{sm:"12",children:[Object(x.jsx)(o.E,{type:"text",id:"searchText",placeholder:"search by keyword ...",onInput:function(e){return q(e.target.value)}}),Object(x.jsx)(b.a,{title:"Jobs List",columns:M,data:w,highlightOnHover:!0,pagination:!0,progressPending:P})]})})]})}),Object(x.jsxs)(o.O,{show:h.show,onClosed:function(){O({show:!1,type:h.type}),L([])},color:"delete"===h.type?"danger":"isPublic"===h.type?"warning":"info",size:"edit"===h.type||"detail"===h.type?"xl":"",children:[Object(x.jsx)(o.R,{closeButton:!0,children:Object(x.jsx)(o.S,{children:"delete"===h.type?"Delete Job account":"edit"===h.type?"Edit Job profile":"detail"===h.type?"Job detail":"Change Publicity status"})}),h.show?Object(x.jsxs)(o.P,{children:["delete"===h.type?Object(x.jsxs)("div",{children:["Are you sure you want to delete ",Object(x.jsx)("strong",{children:h.title}),"?"]}):"isPublic"===h.type?Object(x.jsxs)("div",{children:["Are you sure you want to change publicity status of ",Object(x.jsx)("strong",{children:h.title}),"?"]}):null,"edit"===h.type?Object(x.jsx)(m,{loadJobsList:F,job:h,setJob:O,setToastMessage:L,toastMessages:J}):"detail"===h.type?Object(x.jsx)(g,{job:h}):null]}):null,"delete"===h.type||"isPublic"===h.type?Object(x.jsxs)(o.Q,{children:[Object(x.jsx)(o.f,{color:"delete"===h.type?"danger":"warning",onClick:function(){return"delete"===h.type?z(h.id):K(h.id)},children:"Yes"}),Object(x.jsx)(o.f,{color:"secondary",onClick:function(){return O({show:!1})},children:"Cancel"})]}):null]}),J.map((function(e){return console.log(e),Object(x.jsx)(o.lb,{position:"bottom-right",children:Object(x.jsxs)(o.ib,{show:!0,autohide:3e3,fade:!0,color:e.type,children:[Object(x.jsx)(o.kb,{closeButton:!0,children:e.title}),Object(x.jsx)(o.jb,{children:e.description})]},Math.floor(1e6*Math.random()))},"toaster"+Math.floor(1e6*Math.random()))}))]})}}}]);
//# sourceMappingURL=27.20eb6e95.chunk.js.map